(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{15:function(e,t,n){e.exports=n(42)},2:function(e,t,n){var a=n(22),r=n(41),o=function(e){return new Promise((function(t,n){try{t(a.parse(e.toString(),{silent:!1}))}catch(r){n(r)}}))},s=function(e){var t={},n={};for(var a in e=e.match(/(\w+\((\s*\-?\w+\%*\.?\w*e?\-?\w*,?)+\))+/g)){var r=e[a].match(/[\w\.\-\%]+/g);t[r.shift()]=r}t.translate&&(n.translateX=t.translate[0],n.translateY=1===t.translate.length?t.translate[0]:t.translate[1]),t.translate3d&&(n.translateX=t.translate3d[0],n.translateY=t.translate3d[1]),t.translateX&&(n.translateX=t.translateX[0]),t.translateY&&(n.translateY=t.translateY[0]),t.scale&&(n.scaleX=parseFloat(t.scale[0]),n.scaleY=1===t.scale.length?parseFloat(t.scale[0]):parseFloat(t.scale[1])),t.scale3d&&(n.scaleX=parseFloat(t.scale3d[0]),n.scaleY=parseFloat(t.scale3d[1])),t.scaleX&&(n.scaleX=parseFloat(t.scaleX[0])),t.scaleY&&(n.scaleY=parseFloat(t.scaleY[0])),t.rotate&&(n.rotate=parseFloat(t.rotate[0])),t.rotate3d&&"1"===t.rotate3d[2]&&(n.rotate=parseFloat(t.rotate3d[3])),t.rotateX&&(n.rotate=parseFloat(t.rotateX[0])),t.rotateY&&(n.rotate=parseFloat(t.rotateY[0])),t.skew&&(n.skewX=parseFloat(t.skew[0]),n.skewY=parseFloat(t.skew[1])),t.skewX&&(n.skewX=parseFloat(t.skewX[0])),t.skewY&&(n.skewY=parseFloat(t.skewY[0]));var o=[{translateX:n.translateX,translateY:n.translateY},{rotate:n.rotate},{scaleX:n.scaleX,scaleY:n.scaleY},{skewX:n.skewX,skewY:n.skewY}];return(o=JSON.parse(JSON.stringify(o))).filter((function(e){return Object.keys(e).length>0}))};e.exports={convert:function(e){var t=e.css;return Promise.resolve(t).then((function(e){return o(e)})).then((function(e){return function(e){return new Promise((function(t,n){try{var a="stylesheet"===e.type,o="stylesheet"in e&&0===e.stylesheet.parsingErrors.length,s=r.any((function(e){return"keyframes"===e.type}),e.stylesheet.rules);if(!a||!o||!s){if(!a)throw"ast is not of type stylesheet";if(!o)throw r.map((function(e){return console.log(new Error("error: ".concat(e)))}),e.stylesheet.parsingErrors),"file has parse error";if(!s)throw"no keyframes rules found"}t(e)}catch(c){n(c)}}))}(e)})).then((function(e){return function(e){return new Promise((function(t,n){try{var a=r.map(r.pipe(r.converge((function(e,t){return[r.map(r.cond([[r.equals("from"),r.always("0")],[r.equals("to"),r.always("1")],[r.T,r.pipe(parseFloat,r.divide(r.__,100),r.toString())]]),e),r.reduce(r.merge,{},r.map(r.converge(r.objOf,[r.prop("property"),r.prop("value")]),t))]}),[r.prop("values"),r.prop("declarations")]),r.converge((function(e,t){return r.map(r.pipe(r.objOf("offset"),r.merge(t)),e)}),[r.nth(0),r.nth(1)]))),o=r.pipe(r.path(["stylesheet","rules"]),r.filter(r.propEq("type","keyframes")),r.map((function(e){return{name:e.name,content:a(e.keyframes)}})),r.converge(r.zipObj,[r.map(r.prop("name")),r.map(r.pipe(r.prop("content"),r.flatten))])),s=r.map(r.pipe(r.sortBy(r.prop("offset"))));t(r.pipe(o,s,(function(e){var t=r.curry((function(e,t){return r.fromPairs(r.map(r.adjust(e,0),r.toPairs(t)))}));return r.map(r.map(t((function(e){return e.replace(/[-_]([a-z])/g,(function(e){return e[1].toUpperCase()}))}))),e)}),(function(e){return r.map(r.map((function(e){var t=r.prop("animationTimingFunction",e);return r.dissoc("animationTimingFunction",r.assoc("easing",t,e))})))(e)}))(e))}catch(c){n(c)}}))}(e)})).then((function(e){return function(e){var t={type:"APL",version:"1.1.0",commands:{}},n={parameters:["duration","delay"],commands:[]};return Object.keys(e).forEach((function(a){var r,o=Object.assign({},n),c=e[a];o.commands=[];for(var i=0;i<c.length;i++)c[i].transform&&(c[i].transform=s(c[i].transform)),c[i].offset&&(c[i].offset=parseFloat(c[i].offset));for(var l=0;l<c.length;l++)if(0!==c[l].offset){var u={type:"AnimateItem",duration:"${duration * ".concat(c[l].offset,"}"),delay:0===o.commands.length?"${delay || 0}":void 0,easing:c[l].easing,value:[]};u.duration="${duration * ".concat(0===l?c[l].offset:(r=c[l].offset-c[l-1].offset,Math.round(1e3*r)/1e3),"}"),l>0&&(c[l].transform&&u.value.push({property:"transform",from:c[l-1].transform,to:c[l].transform}),c[l].opacity&&u.value.push({property:"opacity",from:Number(c[l-1].opacity),to:Number(c[l].opacity)})),o.commands.push(u)}t.commands[a]=o})),Promise.resolve(t)}(e)})).then((function(e){return e}))}}},20:function(e,t,n){},21:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),s=n.n(o),c=(n(20),n(3)),i=(n(21),n(2)),l="\n@keyframes bounce {\n  from,\n  20%,\n  53%,\n  to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n    transform: translate3d(0, 0, 0);\n  }\n\n  40%,\n  43% {\n    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n    transform: translate3d(0, -30px, 0) scaleY(1.1);\n  }\n\n  70% {\n    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n    transform: translate3d(0, -15px, 0) scaleY(1.05);\n  }\n\n  80% {\n    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n    transform: translate3d(0, 0, 0) scaleY(0.95);\n  }\n\n  90% {\n    transform: translate3d(0, -4px, 0) scaleY(1.02);\n  }\n}\n@keyframes rubberBand {\n  from {\n    transform: scale3d(1, 1, 1);\n  }\n\n  30% {\n    transform: scale3d(1.25, 0.75, 1);\n  }\n\n  40% {\n    transform: scale3d(0.75, 1.25, 1);\n  }\n\n  50% {\n    transform: scale3d(1.15, 0.85, 1);\n  }\n\n  65% {\n    transform: scale3d(0.95, 1.05, 1);\n  }\n\n  75% {\n    transform: scale3d(1.05, 0.95, 1);\n  }\n\n  to {\n    transform: scale3d(1, 1, 1);\n  }\n}\n";var u=function(){var e=Object(a.useState)(l),t=Object(c.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(null),u=Object(c.a)(s,2),f=u[0],m=u[1];return Object(a.useEffect)((function(){Object(i.convert)({css:l}).then((function(e){m(JSON.stringify(e,null,4))}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("h1",null,"CSS to APL"),r.a.createElement("h2",null,"Convert css keyframes to apl animation")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"edit"},r.a.createElement("textarea",{value:n,onChange:function(e){o(e.target.value)}})),r.a.createElement("div",{className:"action"},r.a.createElement("button",{onClick:function(e){Object(i.convert)({css:n}).then((function(e){m(JSON.stringify(e,null,4))}))}},"Convert")),r.a.createElement("div",{className:"edit"},r.a.createElement("textarea",{value:f}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.de0eea0e.chunk.js.map