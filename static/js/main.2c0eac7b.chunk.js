(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{14:function(e,t,a){var r=a(22),n=a(41),o=function(e){return new Promise((function(t,a){try{t(r.parse(e.toString(),{silent:!1}))}catch(n){a(n)}}))},s=function(e){var t={},a={};for(var r in e=e.match(/(\w+\((\s*\-?\w+\%*\.?\w*e?\-?\w*,?)+\))+/g)){var n=e[r].match(/[\w\.\-\%]+/g);t[n.shift()]=n}t.translate&&(a.translateX=t.translate[0],a.translateY=1===t.translate.length?t.translate[0]:t.translate[1]),t.translate3d&&(a.translateX=t.translate3d[0],a.translateY=t.translate3d[1]),t.translateX&&(a.translateX=t.translateX[0]),t.translateY&&(a.translateY=t.translateY[0]),t.scale&&(a.scaleX=parseFloat(t.scale[0]),a.scaleY=1===t.scale.length?parseFloat(t.scale[0]):parseFloat(t.scale[1])),t.scale3d&&(a.scaleX=parseFloat(t.scale3d[0]),a.scaleY=parseFloat(t.scale3d[1])),t.scaleX&&(a.scaleX=parseFloat(t.scaleX[0])),t.scaleY&&(a.scaleY=parseFloat(t.scaleY[0])),t.rotate&&(a.rotate=parseFloat(t.rotate[0])),t.rotate3d&&"1"===t.rotate3d[2]&&(a.rotate=parseFloat(t.rotate3d[3])),t.rotateX&&(a.rotate=parseFloat(t.rotateX[0])),t.rotateY&&(a.rotate=parseFloat(t.rotateY[0])),t.skew&&(a.skewX=parseFloat(t.skew[0]),a.skewY=parseFloat(t.skew[1])),t.skewX&&(a.skewX=parseFloat(t.skewX[0])),t.skewY&&(a.skewY=parseFloat(t.skewY[0]));var o=[{translateX:a.translateX,translateY:a.translateY},{rotate:a.rotate},{scaleX:a.scaleX,scaleY:a.scaleY},{skewX:a.skewX,skewY:a.skewY}];return(o=JSON.parse(JSON.stringify(o))).filter((function(e){return Object.keys(e).length>0}))};e.exports={convert:function(e){var t=e.css;return Promise.resolve(t).then((function(e){return o(e)})).then((function(e){return function(e){return new Promise((function(t,a){try{var r="stylesheet"===e.type,o="stylesheet"in e&&0===e.stylesheet.parsingErrors.length,s=n.any((function(e){return"keyframes"===e.type}),e.stylesheet.rules);if(!r||!o||!s){if(!r)throw"ast is not of type stylesheet";if(!o)throw n.map((function(e){return console.log(new Error("error: ".concat(e)))}),e.stylesheet.parsingErrors),"file has parse error";if(!s)throw"no keyframes rules found"}t(e)}catch(c){a(c)}}))}(e)})).then((function(e){return function(e){return new Promise((function(t,a){try{var r=n.map(n.pipe(n.converge((function(e,t){return[n.map(n.cond([[n.equals("from"),n.always("0")],[n.equals("to"),n.always("1")],[n.T,n.pipe(parseFloat,n.divide(n.__,100),n.toString())]]),e),n.reduce(n.merge,{},n.map(n.converge(n.objOf,[n.prop("property"),n.prop("value")]),t))]}),[n.prop("values"),n.prop("declarations")]),n.converge((function(e,t){return n.map(n.pipe(n.objOf("offset"),n.merge(t)),e)}),[n.nth(0),n.nth(1)]))),o=n.pipe(n.path(["stylesheet","rules"]),n.filter(n.propEq("type","keyframes")),n.map((function(e){return{name:e.name,content:r(e.keyframes)}})),n.converge(n.zipObj,[n.map(n.prop("name")),n.map(n.pipe(n.prop("content"),n.flatten))])),s=n.map(n.pipe(n.sortBy(n.prop("offset"))));t(n.pipe(o,s,(function(e){var t=n.curry((function(e,t){return n.fromPairs(n.map(n.adjust(e,0),n.toPairs(t)))}));return n.map(n.map(t((function(e){return e.replace(/[-_]([a-z])/g,(function(e){return e[1].toUpperCase()}))}))),e)}),(function(e){return n.map(n.map((function(e){var t=n.prop("animationTimingFunction",e);return n.dissoc("animationTimingFunction",n.assoc("easing",t,e))})))(e)}))(e))}catch(c){a(c)}}))}(e)})).then((function(e){return function(e){var t={type:"APL",version:"1.1.0",commands:{}},a={parameters:["duration","delay"],commands:[]};return Object.keys(e).forEach((function(r){var n,o=Object.assign({},a),c=e[r];o.commands=[];for(var l=0;l<c.length;l++)c[l].transform&&(c[l].transform=s(c[l].transform)),c[l].offset&&(c[l].offset=parseFloat(c[l].offset));for(var i=0;i<c.length;i++)if(0!==c[i].offset){var u={type:"AnimateItem",duration:"${duration * ".concat(c[i].offset,"}"),delay:0===o.commands.length?"${delay || 0}":void 0,easing:c[i].easing,value:[]};u.duration="${duration * ".concat(0===i?c[i].offset:(n=c[i].offset-c[i-1].offset,Math.round(1e3*n)/1e3),"}"),i>0&&(c[i].transform&&u.value.push({property:"transform",from:c[i-1].transform,to:c[i].transform}),c[i].opacity&&u.value.push({property:"opacity",from:Number(c[i-1].opacity),to:Number(c[i].opacity)})),o.commands.push(u)}t.commands[r]=o})),Promise.resolve(t)}(e)})).then((function(e){return e}))}}},15:function(e,t,a){e.exports=a(42)},20:function(e,t,a){},21:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(13),s=a.n(o),c=(a(20),a(2)),l=(a(21),a(14));var i=function(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)(null),i=Object(c.a)(s,2),u=i[0],p=i[1];return n.a.createElement("div",{className:"App"},n.a.createElement("div",null,n.a.createElement("h1",null,"CSS to APL"),n.a.createElement("h2",null,"Convert cass keyframes to apl animation")),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"edit"},n.a.createElement("textarea",{value:a,onChange:function(e){o(e.target.value)}})),n.a.createElement("div",{className:"action"},n.a.createElement("button",{onClick:function(e){Object(l.convert)({css:a}).then((function(e){p(JSON.stringify(e,null,4))}))}},"Convert")),n.a.createElement("div",{className:"edit"},n.a.createElement("textarea",{value:u}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.2c0eac7b.chunk.js.map